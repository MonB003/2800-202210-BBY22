<!DOCTYPE html>
<html lang="en">

<head>
    <title>Post New Item</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/imgs/OTH-favicon.ico" rel="icon" type="image/x-icon" />

    <!-- Styles Page for New Post -->
    <link rel="stylesheet" href="/css/editpost.css">

    <!-- Tiny editor -->
    <script src="https://cdn.tiny.cloud/1/64lg7fzavr5yxtvjfnrl8fw8700yfi2f4m70sfctwdil72xb/tinymce/5/tinymce.min.js"
        referrerpolicy="origin"></script>
</head>

<body>

    <!-- Nav bar -->


    <header id="header">
        <nav>
            <div class="container">
                <ul class="navbar">
                    <li id="home"><a href="#">HOME</a></li>
                    <li id="bookmark"><a href="#">BOOKMARKS</a></li>
                    <li id="messages"><a href="#">MESSAGES</a></li>
                    <li id="listings"><a href="#">MY LISTINGS</a></li>
                    <li id="profile"><a href="#">PROFILE</a></li>
                    <li id="fright">
                        <form action="/logout" method="get" id="logoutForm">
                            <input type="submit" id="logoutBtn" class="nav-button" value="LOGOUT" />
                        </form>
                    </li>
                </ul>
            </div>
            <div class="menu">
                <input id="menuClicked" type="checkbox" />
                <label class="menuBtn" for="menuClicked">
                    <span></span>
                </label>
                <ul class="menuInside">
                    <li><a class="links" id="home2" href="#">Home</a></li>
                    <li><a class="links bookmark" id="bookmark2" href="#">Bookmarks</a></li>
                    <li><a class="links messages" id="messages2" href="#">Messages</a></li>
                    <li><a class="links listings" id="listings2" href="#">My Listings</a></li>
                    <li><a class="links profile" id="profile2" href="#">Profile</a></li>
                    <li class="fright">
                        <form action="/logout" method="get" id="logoutForms">
                            <input type="submit" id="logoutBtns" class="links nav-button" value="Logout" />
                        </form>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <div id="pagename">
        Edit Post
    </div>

    <!-- Edit post form -->
    <div id="content">
        <form id="image-form">
            <input id="image-upload" type="file" value="Upload Image" accept="image/png, image/gif, image/jpeg" />
            <input id="submit" type="submit" value="Save Photo" />
        </form>
        <p id="savedMsg"></p>
        <br>
        <form id="editForm">
            <hr class="solid">
            <br>
            <label>Title:</label>
            <br>
            <input type="text" id="title" name="title" pattern="[A-Za-z]{1,50}" maxlength="50">
            <br><br>
            <label>City:</label>
            <br>
            <input type="text" id="city" name="city" pattern="[A-Za-z]{1,30}" maxlength="30">
            <br><br>
            <label>Description:</label>
            <br>
            <textarea name="description" id="description" maxlength="1000" minlength="20"></textarea>
            <br>
            <label>Status:</label>
            <br>
            <select name="item-status" id="itemStatus" onchange="getItemStatus()">
                <option value="available" id="available">available</option>
                <option value="reserved" id="reserved">reserved</option>
                <option value="collected" id="collected">collected</option>
            </select>
            <!-- This div only appears if status selected is reserved -->
            <div id="reserveStatusDiv" style="visibility:hidden;">
                <input type="text" id="userReserved" name="userReserved" placeholder="Username"
                    pattern="[A-Za-z]{1,20}">
                <button type="button" id="reserveUserBtn" disabled="disabled">Reserve</button>
                <br>
                <p id="reserveMsg"></p>
            </div>
            <p id="savedDetail"></p>
            <button type="button" id="savepost">Save Details</button>
            <button type="button" id="deletepost" onclick="showConfirmDeletePopup()">Delete Post</button>
            <br><br>
        </form>
        <div id="cancelDiv">
            <button id="cancel">Go Back</button>
        </div>


        <!-- Popup that appears when user wants to delete a post -->
        <div id="confirmDeletion" class="popup" style="display:none;">
            <div class="deleteMsgContent">
                <p id="confirmationMsg">Do you want to delete this post?</p>
                <br>
                <button type="button" id="deleteMsgBtn">Delete</button>
                <button type="button" id="cancelMsgBtn" onclick="cancelConfirmDelete()">Cancel</button>

            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <hr />
        <p id="copyright"> &copy; 2022. On the House
        </p>
    </footer>


    <!-- JavaScript -->
    <script src="/js/clientEditPost.js"></script>
</body>

</html>